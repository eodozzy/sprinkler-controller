<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">ESP8266 MQTT Sprinkler Controller - Circuit Diagram</text>
  
  <!-- ESP8266 NodeMCU -->
  <rect x="300" y="100" width="200" height="300" rx="10" ry="10" fill="#d6e9f8" stroke="#2c3e50" stroke-width="2" />
  <text x="400" y="125" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">ESP8266 NodeMCU</text>
  
  <!-- ESP8266 Pins -->
  <circle cx="280" cy="150" r="5" fill="#3498db" />
  <text x="270" y="155" font-family="Arial" font-size="12" text-anchor="end">D1 (GPIO5)</text>
  
  <circle cx="280" cy="180" r="5" fill="#3498db" />
  <text x="270" y="185" font-family="Arial" font-size="12" text-anchor="end">D2 (GPIO4)</text>
  
  <circle cx="280" cy="210" r="5" fill="#3498db" />
  <text x="270" y="215" font-family="Arial" font-size="12" text-anchor="end">D5 (GPIO14)</text>
  
  <circle cx="280" cy="240" r="5" fill="#3498db" />
  <text x="270" y="245" font-family="Arial" font-size="12" text-anchor="end">D6 (GPIO12)</text>
  
  <circle cx="280" cy="270" r="5" fill="#3498db" />
  <text x="270" y="275" font-family="Arial" font-size="12" text-anchor="end">D7 (GPIO13)</text>
  
  <circle cx="280" cy="300" r="5" fill="#3498db" />
  <text x="270" y="305" font-family="Arial" font-size="12" text-anchor="end">D8 (GPIO15)</text>
  
  <circle cx="280" cy="330" r="5" fill="#3498db" />
  <text x="270" y="335" font-family="Arial" font-size="12" text-anchor="end">D0 (GPIO16)</text>
  
  <circle cx="280" cy="360" r="5" fill="#e74c3c" />
  <text x="270" y="365" font-family="Arial" font-size="12" text-anchor="end">GND</text>
  
  <circle cx="280" cy="390" r="5" fill="#2ecc71" />
  <text x="270" y="395" font-family="Arial" font-size="12" text-anchor="end">Vin (5V)</text>
  
  <!-- Relay Board -->
  <rect x="100" y="150" width="100" height="240" rx="5" ry="5" fill="#ffe6cc" stroke="#d35400" stroke-width="2" />
  <text x="150" y="175" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Relay Board</text>
  
  <!-- Relay Modules -->
  <rect x="110" y="190" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="205" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 1</text>
  
  <rect x="110" y="220" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="235" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 2</text>
  
  <rect x="110" y="250" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="265" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 3</text>
  
  <rect x="110" y="280" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="295" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 4</text>
  
  <rect x="110" y="310" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="325" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 5</text>
  
  <rect x="110" y="340" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="355" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 6</text>
  
  <rect x="110" y="370" width="80" height="20" fill="#f39c12" stroke="#d35400" stroke-width="1" />
  <text x="150" y="385" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Relay 7</text>
  
  <!-- Relay Power and GND -->
  <circle cx="190" cy="150" r="5" fill="#2ecc71" />
  <text x="200" y="155" font-family="Arial" font-size="12" text-anchor="start">VCC</text>
  
  <circle cx="190" cy="170" r="5" fill="#e74c3c" />
  <text x="200" y="175" font-family="Arial" font-size="12" text-anchor="start">GND</text>
  
  <!-- Connection Lines -->
  <!-- ESP to Relay control lines -->
  <line x1="280" y1="150" x2="190" y2="200" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="180" x2="190" y2="230" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="210" x2="190" y2="260" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="240" x2="190" y2="290" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="270" x2="190" y2="320" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="300" x2="190" y2="350" stroke="#3498db" stroke-width="2" />
  <line x1="280" y1="330" x2="190" y2="380" stroke="#3498db" stroke-width="2" />
  
  <!-- Ground Connection -->
  <line x1="280" y1="360" x2="190" y2="170" stroke="#e74c3c" stroke-width="2" />
  
  <!-- Power Supply -->
  <rect x="550" y="150" width="150" height="100" rx="5" ry="5" fill="#d5f5e3" stroke="#27ae60" stroke-width="2" />
  <text x="625" y="175" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Power Supply</text>
  <text x="625" y="195" font-family="Arial" font-size="12" text-anchor="middle">12V AC Input</text>
  <text x="625" y="215" font-family="Arial" font-size="12" text-anchor="middle">â†“</text>
  <text x="625" y="235" font-family="Arial" font-size="12" text-anchor="middle">Buck Converter</text>
  
  <!-- Power Output -->
  <circle cx="550" cy="250" r="5" fill="#e74c3c" />
  <text x="540" y="255" font-family="Arial" font-size="12" text-anchor="end">GND</text>
  
  <circle cx="700" cy="250" r="5" fill="#2ecc71" />
  <text x="710" y="255" font-family="Arial" font-size="12" text-anchor="start">5V DC</text>
  
  <!-- Power to ESP -->
  <line x1="700" y1="250" x2="280" y2="390" stroke="#2ecc71" stroke-width="2" />
  <line x1="550" y1="250" x2="280" y2="360" stroke="#e74c3c" stroke-width="2" />
  
  <!-- Power to Relay Board -->
  <line x1="700" y1="250" x2="190" y2="150" stroke="#2ecc71" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- Sprinkler Valves -->
  <rect x="100" y="450" width="500" height="80" rx="5" ry="5" fill="#ebdef0" stroke="#8e44ad" stroke-width="2" />
  <text x="350" y="475" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Sprinkler Valves (24V AC)</text>
  
  <rect x="120" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="145" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 1</text>
  
  <rect x="180" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="205" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 2</text>
  
  <rect x="240" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="265" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 3</text>
  
  <rect x="300" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="325" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 4</text>
  
  <rect x="360" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="385" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 5</text>
  
  <rect x="420" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="445" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 6</text>
  
  <rect x="480" y="490" width="50" height="25" fill="#9b59b6" stroke="#8e44ad" stroke-width="1" />
  <text x="505" y="507" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Zone 7</text>
  
  <!-- Relay to Valve connections -->
  <line x1="150" y1="210" x2="145" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="240" x2="205" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="270" x2="265" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="300" x2="325" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="330" x2="385" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="360" x2="445" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  <line x1="150" y1="390" x2="505" y2="490" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5" />
  
  <!-- Power from AC Source to Valves -->
  <path d="M 550 200 Q 650 200 650 400 Q 650 490 550 490" stroke="#8e44ad" stroke-width="2" fill="none" />
  
  <!-- Legend -->
  <rect x="620" y="300" width="150" height="130" rx="5" ry="5" fill="white" stroke="#2c3e50" stroke-width="1" />
  <text x="695" y="320" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Legend</text>
  
  <line x1="630" y1="340" x2="660" y2="340" stroke="#3498db" stroke-width="2" />
  <text x="670" y="345" font-family="Arial" font-size="12" text-anchor="start">Control Signal</text>
  
  <line x1="630" y1="365" x2="660" y2="365" stroke="#2ecc71" stroke-width="2" />
  <text x="670" y="370" font-family="Arial" font-size="12" text-anchor="start">5V DC Power</text>
  
  <line x1="630" y1="390" x2="660" y2="390" stroke="#e74c3c" stroke-width="2" />
  <text x="670" y="395" font-family="Arial" font-size="12" text-anchor="start">Ground</text>
  
  <line x1="630" y1="415" x2="660" y2="415" stroke="#8e44ad" stroke-width="2" />
  <text x="670" y="420" font-family="Arial" font-size="12" text-anchor="start">12V AC Power</text>
</svg>